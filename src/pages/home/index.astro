---
import RootLayout from '@/layouts/RootLayout.astro';
import MainLayout from '@/layouts/MainLayout.astro';
import BottomFloatingLayout from '@/layouts/BottomFloatingLayout.astro';
import TitleAndBodyBannerLayout from '@/layouts/TitleAndBodyBannerLayout.astro'
import ArticleSearchBar from '@/composites/ArticleSearchBar.astro';
import DirectoryCard from '@/composites/DirectoryCard.astro';
import Header from '@/composites/Header.astro';
import PageScroller from '@/composites/PageScroller.astro';
import ThemeChanger from '@/composites/ThemeChanger.astro';
import BrowserSpecificBox from '@/components/BrowserSpecificBox';
import Button from '@/components/Button';
import FloatingActionButtonGroup from '@/components/FloatingActionButtonGroup';
import {
  getDevelopmentDirectories,
} from '@/utils/path';
import type { Directory } from '@/types/file';

const developmentDirectories = getDevelopmentDirectories();
---

<RootLayout title={`${'Home'} - snapperbay4453`}>
  <Header />
  <MainLayout>
    <TitleAndBodyBannerLayout
      title='반갑습니다👋'
      subtitle='이곳은 제 진리의 원천입니다.'
    >
      <Button
        onClick='/directories'
        client:visible
      >
        <span class='truncate'>루트 디렉토리 보기</span>
        <i class='icon-[material-symbols--arrow-forward-rounded] text-zinc-100'></i>
      </Button>
    </TitleAndBodyBannerLayout>

    <div class='mt-8'>
      <BrowserSpecificBox browserName='Samsung' client:visible>
        <div class='grow flex justify-center items-center gap-2 flex-wrap'>
          <Button
            onClick='/articles/blog/help/samsung-internet-dark-mode'
          >
            <span class='truncate'>색상이 이상해요</span>
            <i class='icon-[material-symbols--arrow-forward-rounded] text-zinc-100'></i>
          </Button>
        </div>
      </BrowserSpecificBox>

      <div class='flex flex-col items-center mt-16'>
        <p class='text-3xl font-bold'>검색</p>
        <div class='mt-4'>
          <ArticleSearchBar />
        </div>
      </div>
      
      <div class='flex flex-col items-center mt-16'>
        <p class='text-3xl font-bold'>개발 관련 디렉토리</p>
        <div class='mt-8'>
          <ol class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4'>
            {developmentDirectories.map((childDirectory: Directory) => (
              <li class='block'>
                <DirectoryCard
                  title={childDirectory.title}
                  imagePath={childDirectory.imagePath}
                  backgroundColorPalette={childDirectory.backgroundColorPalette}
                  onClick={`/directories/${childDirectory.path ?? ''}`}
                />
              </li>
            ))}
          </ol>
        </div>
      </div>

      <div class='flex flex-col items-center mt-16'>
        <p class='text-3xl font-bold'>기타 디렉토리</p>
        <div class='grow flex justify-center items-center gap-2 flex-wrap mt-8'>
          <Button
            onClick='/apps'
          >
            <span class='truncate'>앱</span>
            <i class='icon-[material-symbols--arrow-forward-rounded] text-zinc-100'></i>
          </Button>
          <Button
            onClick='/directories/diary'
          >
            <span class='truncate'>다이어리</span>
            <i class='icon-[material-symbols--arrow-forward-rounded] text-zinc-100'></i>
          </Button>
        </div>
      </div>
    </div>
  </MainLayout>
  <BottomFloatingLayout>
    <div slot='right'>
      <PageScroller />
    </div>
    <div slot='fab'>
      <FloatingActionButtonGroup client:load>
        <ThemeChanger />
      </FloatingActionButtonGroup>
    </div>
  </BottomFloatingLayout>
</RootLayout>
